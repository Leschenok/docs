---
id: overview
title: Обзор
---

## Адаптер к Active Directory

При первом запуске или после обновления, адаптер для [Active Directory](https://ru.wikipedia.org/wiki/Active_Directory) регистрируется в DIP сервере и обновляет в нём свои метаданные модели классов прикладной системы. Данные классы и их свойства используются для настройки модели интеграции. 

Предустановленная модель метаданных позволяет работать с такими типами данных, как:

- *OrganizationUnit* - Представляет собой контейнер для хранения пользователей, груп и других объектов.
- *User* - Этот класс используется для хранения информации о пользователе.
- *Group* - Хранит список имен пользователей. Используется для применения принципалов безопасности на ресурсы.

Метаданные, предоставляемые адаптером, так же могут быть сгенерированы непосредственно под текущую настройку схемы данных [Active Directory](https://ru.wikipedia.org/wiki/Active_Directory). Для этого необходимо в настройках конфигурации адаптера подключить и настроить [микросервис](https://docs.t2plus.ru/integration/adapters/adadapter.html#%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B-%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8) `T2.DIP.Adapter.AD.Services.Prepare.AdPreparerService`.

Так же на ряду с предоставлением метаданных данных, адаптер к [Active Directory](https://ru.wikipedia.org/wiki/Active_Directory) обрабатывает запросы от сервера на выполнения манипуляций с данными в прикладной системе, а также обладает возможностью отслеживания изменений в прикладной системе и пересылку информации об изменениях в DIP сервер, при помощи брокера сообщений.

Особенностью данного адаптера является специфическая реализация отслеживания изменений, в сравнении с адаптерами работающими с базами данных прикладных систем на прямую. Отслеживание реализуется на механизме сценариев и триггеров, настраиваемых в разделах <u>*передача данных*</u> и <u>*основная модель*</u>, соответственно. При истечении заданного интервала времени производится запрос к [Active Directory](https://ru.wikipedia.org/wiki/Active_Directory) и получаются изменённые данные, настроенные в триггере модели интеграции, за период времени от предыдущего запроса. После обработки данных запоминается время выполнения текущего запроса, для выборки по нему изменений в следующем запросе.

Для работы механизма отслеживания, в его конфигурации адаптера к [Active Directory](https://ru.wikipedia.org/wiki/Active_Directory) необходимо подключить микросервис `T2.DIP.Adapter.AD.MetadataProvider.AdMetadataProvider` и в его настройках добавить в список `Jobs` задачу `TransferChangedDataAd`.